(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{CKgU:function(t,e,n){"use strict";var r=n("FuRH"),a=n("yIpb"),s=n("oCYn"),o=n("YKMj");function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return function(t,e){{if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(r<3?i(a):3<r?i(e,n,a):i(e,n))||a);return 3<r&&a&&Object.defineProperty(e,n,a),a};function f(e,n){for(var t=arguments.length,o=new Array(2<t?t-2:0),i=2;i<t;i++)o[i-2]=arguments[i];var r=e.constructor.options;r.mixins&&r.mixins.forEach(function(t){t[n]&&(t=t[n]).call.apply(t,[e].concat(o))}),r[n]&&(r=r[n]).call.apply(r,[e].concat(o))}n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,s["default"]);var t,e,n,o=u(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(e=[{key:"mapTargetChanged",value:function(t,e){var n;t&&e&&t!==e&&(n=e||this.firstDefaultTarget,(e=r.a.$options.getMap(n))&&this.removeMap(e,n),r.a.$options.getMap(t)&&this.loadMap(t))}},{key:"mounted",value:function(){var t=this.getTargetName();this.firstDefaultTarget=t,r.a.$options.getMap(t)&&this.loadMap(t),r.a.$on("load-map",this.loadMapSucceed),a.a.$on("delete-map",this.removeMapSucceed)}},{key:"beforeDestroy",value:function(){this.removeMap(),r.a.$off("load-map",this.loadMapSucceed),a.a.$off("delete-map",this.removeMapSucceed)}},{key:"getFirstTarget",value:function(){var t,e;for(e in r.a.$options.getAllMaps())if(e){t=e;break}return t}},{key:"getTargetName",value:function(){var t=this.$parent,t=t&&t.$options.name&&-1!==["smwebmap","smncpmap"].indexOf(t.$options.name.toLowerCase())&&t.target;return this.mapTarget||t||this.getFirstTarget()}},{key:"loadMap",value:function(t){var e=this;this.firstDefaultTarget||(this.firstDefaultTarget=t),this.map=r.a.$options.getMap(t),this.webmap=r.a.$options.getWebMap(t),this.viewModel&&"function"==typeof this.viewModel.setMap&&this.viewModel.setMap({map:this.map,webmap:this.webmap,mapTarget:t}),f(this,"loaded",this.map,t),this.$nextTick(function(){e.$emit("loaded")})}},{key:"removeMap",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.map,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getTargetName();t&&(this.viewModel&&this.viewModel.removed&&this.viewModel.removed(),f(this,"removed",t,e),this.map=null,this.webmap=null,this.firstDefaultTarget=null)}},{key:"loadMapSucceed",value:function(t,e){e===this.getTargetName()&&this.loadMap(e)}},{key:"removeMapSucceed",value:function(t){t===this.getTargetName()&&this.removeMap()}},{key:"mapNotLoadedTip",value:function(){return!this.map&&(this.$message.destroy(),this.$message.warning(this.$t("warning.unassociatedMap")),!0)}}])&&l(t.prototype,e),n&&l(t,n),i}();d([Object(o.Prop)()],n.prototype,"mapTarget",void 0),d([Object(o.Watch)("mapTarget")],n.prototype,"mapTargetChanged",null),n=d([o.Component],n),e.a=n},Kwrx:function(t,e,n){"use strict";var o=n("oCYn"),i=n("YKMj"),r={name:"SmCollapseCard",mixins:[n("oTir").a],props:{iconPosition:{type:String,default:"top-left"},iconClass:{type:String},autoRotate:{type:Boolean,default:!1},headerName:{type:String},collapsed:{type:Boolean,default:!1},splitLine:{type:Boolean,default:!0}},data:function(){return{isShow:!0,transform:null}},computed:{getCardStyle:function(){return this.iconClass||this.headerName?this.collapseCardBackgroundStyle:{background:"transparent"}},iconStyle:function(){return{transform:this.transform}},position:function(){return this.iconPosition},rotateDeg:function(){return{"top-right":["rotate(-45deg)","rotate(135deg)"],"top-left":["rotate(-135deg)","rotate(45deg)"],"bottom-left":["rotate(135deg)","rotate(-45deg)"],"bottom-right":["rotate(45deg)","rotate(-135deg)"]}},hasHeaderRotateDeg:function(){return{"top-right":["rotate(-45deg)","rotate(135deg)"],"top-left":["rotate(-135deg)","rotate(45deg)"],"bottom-left":["rotate(-135deg)","rotate(45deg)"],"bottom-right":["rotate(-45deg)","rotate(135deg)"]}}},watch:{iconClass:function(t,e){t&&!e?(this.isShow=!this.collapsed,this.toggleTransition(this.collapsed?"leave":"enter")):t||(this.isShow=!0)},iconPosition:function(){this.resetIconTransform()}},created:function(){this.iconClass&&(this.isShow=!this.collapsed),this.resetIconTransform()},mounted:function(){this.toggleTransition(this.collapsed?"leave":"enter")},methods:{iconClicked:function(){this.isShow=!this.isShow,this.resetIconTransform(),this.$emit("content-show-state",this.isShow)},toggleTransition:function(e){var n=this;this.$nextTick(function(){var t=n.$el.querySelector(".sm-component-collapse-card__icon");t&&(t.style.position="leave"===e?"relative":"absolute")})},resetIconTransform:function(){var t=this.headerName?this.hasHeaderRotateDeg:this.rotateDeg;this.autoRotate&&(this.transform=t[this.position][this.isShow?1:0])}}},a=n("KHd+"),n=Object(a.a)(r,function(){var t,e=this,n=e.$createElement,n=e._self._c||n;return n("div",{staticClass:"sm-component-collapse-card",style:e.getTextColorStyle},[e.iconClass?n("div",{class:((t={})["sm-component-collapse-card__icon"]=!0,t["is-"+e.position]=!0,t["is-click-"+(e.isShow?"out":"in")]=!0,t["is-not-header"]=!e.headerName,t["icon-box-shadow"]=!e.isShow,t),style:[e.collapseCardHeaderBgStyle,e.headingTextColorStyle],on:{click:e.iconClicked}},[n("i",{class:((t={})[e.iconClass]=!0,t["is-auto-rotate"]=e.autoRotate,t),style:e.iconStyle})]):e._e(),e._v(" "),n("transition",{attrs:{name:"sm-component-zoom-in"},on:{"after-leave":function(t){return e.toggleTransition("leave")},enter:function(t){return e.toggleTransition("enter")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],class:((t={})["sm-component-collapse-card__content"]=!0,t["is-not-header"]=!e.headerName,t["is-"+e.position]=!0,t["is-icon"]=e.iconClass,t),style:e.getCardStyle},[e.headerName?n("div",{class:((t={"sm-component-collapse-card__header":!0,"with-split-line":e.splitLine})["is-"+e.position]=!0,t),style:[e.collapseCardHeaderBgStyle,e.headingTextColorStyle]},[n("span",{staticClass:"sm-component-collapse-card__header-name"},[e._v(e._s(e.headerName))])]):e._e(),e._v(" "),n("div",{staticClass:"sm-component-collapse-card__body",style:e.getCardStyle},[e._t("default")],2)])])],1)},[],!1,null,null,null).exports;function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n);return function(t,e){{if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,o?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(r<3?i(a):3<r?i(e,n,a):i(e,n))||a);return 3<r&&a&&Object.defineProperty(e,n,a),a},r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o["default"]);var t=l(e);function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.apply(this,arguments)}return e}();a([Object(i.Prop)({default:"top-left",validator:function(t){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(t)}})],r.prototype,"position",void 0),a([Object(i.Prop)()],r.prototype,"headerName",void 0),a([Object(i.Prop)()],r.prototype,"iconClass",void 0),a([Object(i.Prop)({default:!1})],r.prototype,"autoRotate",void 0),a([Object(i.Prop)({default:!0})],r.prototype,"collapsed",void 0),a([Object(i.Prop)({default:!0})],r.prototype,"splitLine",void 0);r=a([Object(i.Component)({components:{SmCollapseCard:n}})],r),e.a=r},"Ms+m":function(t,e,n){"use strict";var o=n("Kr5Y"),i=n("Qu0N"),r=n("oTir"),a=n("tmJK"),i=Object.assign({},Object(i.b)()),i={name:"SmCollapsePanel",defaultComponent:o.default,mixins:[r.a,a.a],inheritAttrs:!1,props:i,methods:{getPrefixCls:function(t,e){return e||"".concat(this.defaultPrefixCls,"-").concat(t)}}},n=n("KHd+"),i=Object(n.a)(i,void 0,void 0,!1,null,null,null);e.a=i.exports},QOAf:function(t,e,n){"use strict";var o=n("n3EX"),i=n("Qu0N"),r=n("oTir"),a=n("tmJK"),i=Object.assign({},Object(i.a)()),i={name:"SmCollapse",defaultComponent:o.default,mixins:[r.a,a.a],inheritAttrs:!1,model:{prop:"activeKey",event:"change"},props:i,computed:{extralListeners:function(){var e=this;return{change:function(t){e.$emit("change",t)}}}}},n=n("KHd+"),i=Object(n.a)(i,void 0,void 0,!1,null,null,null);e.a=i.exports},cDJF:function(t,e,n){"use strict";n.r(e);var o=n("oTir"),i=n("rn6b"),r=n("CKgU"),a=n("Kwrx"),s=n("s1Pg"),l=n("QOAf"),c=n("Ms+m"),u=n("hdLw"),p=n.n(u);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=h(n);return function(t,e){{if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,o?(t=h(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(i,p.a.Evented);var t,e,n,o=y(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).webmap=t,e.sourceListModel=e.webmap?e.webmap.getSourceListModel:{},e}return t=i,(e=[{key:"getStyle",value:function(t){return this.sourceListModel&&this.sourceListModel.getLegendStyle(t)}}])&&f(t.prototype,e),n&&f(t,n),i}(),v=n("qAG6");function b(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}a={name:"SmLegend",components:{SmCard:s.a,SmCollapse:l.a,SmCollapsePanel:c.a},filters:{selectLayerType:function(t,e){return e.className||("POINT"===t&&"BASIC_POINT"!==e.type?"":{POLYGON:"sm-components-icon-ploygon",POINT:"sm-components-icon-multi-point",LINE:"sm-components-icon-line"}[t])}},mixins:[r.a,i.a,o.a,a.a],props:{headerName:{type:String,default:function(){return this.$t("legend.title")}},iconClass:{type:String,default:"sm-components-icon-list"},layerNames:{type:Array,required:!0},isShowTitle:{type:Boolean,default:!1},isShowField:{type:Boolean,default:!1},mode:{type:String,default:"simple",validator:function(t){return-1!==["simple","panel"].indexOf(t)}},position:{type:String,default:"bottom-left"}},data:function(){return{legendList:{},activeLegend:[],themeStyle:{}}},computed:{uniqueSymbolStyle:function(){return function(t){var e=t.style,n=t.radius,o=t.color,i={};switch(e.type){case"BASIC_POINT":i.color=Object(v.c)(e.fillColor||o,e.fillOpacity);break;case"SYMBOL_POINT":i.color=Object(v.c)(e.fillColor||o,e.fillOpacity),i.fontSize="".concat(2*n,"px");break;case"IMAGE_POINT":i.background="url(".concat(e.imageInfo.url,")"),i.backgroundSize="contain",i.width="".concat(2*(e.radius||n),"px"),i.height="".concat(2*(e.radius||n),"px");break;case"SVG_POINT":i["-webkit-mask"]="url(".concat(e.url,")"),i.backgroundColor=Object(v.c)(e.fillColor||o,e.fillOpacity),i["-webkit-mask-size"]="contain",i.width="".concat(2*(e.radius||n),"px"),i.height="".concat(2*(e.radius||n),"px");break;default:i.color=Object(v.c)(e.fillColor||o,e.fillOpacity)}return i}},rankSymbolStyle:function(){return function(t){var e=t.style,n=t.radius,o=t.color,i={};switch(e.type){case"BASIC_POINT":i.background=Object(v.c)(o||e.fillColor,e.fillOpacity),i.width="".concat(2*n,"px"),i.height="".concat(2*n,"px"),i.borderRadius="".concat(n,"px");break;case"SYMBOL_POINT":i.color=Object(v.c)(o||e.fillColor,e.fillOpacity),i.fontSize="".concat(2*n,"px");break;case"IMAGE_POINT":i.background="url(".concat(e.imageInfo.url,")"),i.backgroundSize="contain",i.width="".concat(2*n,"px"),i.height="".concat(2*n,"px")}return i}},showRangeInfo:function(){var o=this;return function(t,e){var n=t.start,t=t.end;return void 0!==n&&void 0!==t?o.legendList[e].integerType?o.getIntegerRangeInfo(n,t):"".concat(n," - ").concat(t):void 0!==n?"≥".concat(n):"≤".concat(t)}},rankIconStyle:function(){return function(t){if(t instanceof Array){t=t.map(function(t){return t.radius}),t=Math.max.apply(Math,b(t));return{width:"".concat(2*t,"px")}}return{}}}},watch:{layerNames:function(){this.initLegendList()}},methods:{initLegendList:function(){var n=this;this.legendList={},this.viewModel&&(this.layerNames.forEach(function(t){var e=n.viewModel.getStyle(t);e&&(n.legendList[t]||n.$set(n.legendList,t,e))}),this.activeLegend="{}"!==JSON.stringify(this.legendList)?Object.keys(this.legendList)[0]:[],this.activeLegend=this.isShowTitle?this.activeLegend:Object.keys(this.legendList))},getIntegerRangeInfo:function(t,e){return e-1===t||e===t?"".concat(t):"".concat(t," - ").concat(e-1)}},loaded:function(){this.viewModel=new g(this.webmap),this.initLegendList()},removed:function(){this.legendList={}}},n=n("KHd+"),a=Object(n.a)(a,function(){var i=this,t=i.$createElement,r=i._self._c||t;return r("sm-collapse-card",{directives:[{name:"show",rawName:"v-show",value:i.isShow,expression:"isShow"}],staticClass:"sm-component-legend",attrs:{"icon-class":"simple"===i.mode?"":i.iconClass,"icon-position":i.position,"header-name":"simple"===i.mode?"":i.headerName,"auto-rotate":i.autoRotate,collapsed:i.collapsed,background:i.background,textColor:i.textColor,"split-line":i.splitLine}},[r("sm-card",{style:"simple"!==i.mode&&i.collapseCardBackgroundStyle,attrs:{bordered:!1}},[("panel"===i.mode||1<i.layerNames.length&&"simple"!==i.mode)&&"{}"!==JSON.stringify(i.legendList)?r("sm-collapse",{staticClass:"sm-component-legend__table",model:{value:i.activeLegend,callback:function(t){i.activeLegend=t},expression:"activeLegend"}},i._l(i.legendList,function(n,o){return r("sm-collapse-panel",{key:o,class:[i.isShowTitle?"":"sm-component-legend__panel"],attrs:{disabled:!i.isShowTitle,showArrow:!1}},[r("template",{slot:"header"},[i.isShowTitle?r("div",{staticClass:"header-wrap",style:i.headingTextColorStyle},[r("div",{staticClass:"sm-component-legend__title add-ellipsis"},[i._v(i._s(n.layerId))]),i._v(" "),r("i",{class:i.activeLegend.includes(o)?"sm-components-icon-solid-triangle-down":"sm-components-icon-solid-triangle-right"})]):i._e()]),i._v(" "),i.isShowField?r("div",{staticClass:"sm-component-legend__themefield add-ellipsis",style:i.secondaryTextColorStyle},[i._v("\n          "+i._s(i.$t("legend.themeField"))+":"+i._s(n.themeField)+"\n        ")]):i._e(),i._v(" "),"UNIQUE"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__point"},i._l(n.styleGroup,function(t,e){return r("div",{key:e,staticClass:"sm-component-legend__item"},[r("div",{staticClass:"sm-component-legend__rank-icon"},[r("i",{class:i._f("selectLayerType")(n.featureType,t.style),style:i.uniqueSymbolStyle(t)})]),i._v(" "),r("span",{staticClass:"add-ellipsis"},[i._v("\n                "+i._s(t.value)+"\n              ")])])}),0)]):i._e(),i._v(" "),"HEAT"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__heatbox"},[r("div",{staticClass:"sm-component-legend__heat"},[r("i",{style:{background:"linear-gradient(to top,"+n.styleGroup.join(",")+")"}})]),i._v(" "),r("div",{staticClass:"sm-component-legend__heatText"},[r("span",{staticClass:"sm-component-legend__top"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n                "+i._s(i.$t("legend.top"))+"\n              ")]),i._v(" "),r("span",{staticClass:"sm-component-legend__bottom"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n                "+i._s(i.$t("legend.bottom"))+"\n              ")])])])]):i._e(),i._v(" "),"RANGE"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__range"},i._l(n.styleGroup,function(t,e){return r("div",{key:e,staticClass:"sm-component-legend__range-item"},[r("div",[r("i",{style:{background:t.color}})]),i._v(" "),r("span",{staticClass:"add-ellipsis"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n                "+i._s(i.showRangeInfo(t,o))+"\n              ")])])}),0)]):i._e(),i._v(" "),"RANK_SYMBOL"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__rank"},i._l(n.styleGroup,function(t,e){return r("div",{key:e,staticClass:"sm-component-legend__rank-item"},[r("div",{staticClass:"sm-component-legend__rank-icon",style:i.rankIconStyle(n.styleGroup)},[r("i",{class:t.style.className,style:i.rankSymbolStyle(t)})]),i._v(" "),r("span",{staticClass:"add-ellipsis"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n                "+i._s(t.start)+"-"+i._s(t.end)+"\n              ")])])}),0)]):i._e()],2)}),1):"simple"===i.mode||1===i.layerNames.length?i._l(i.legendList,function(n,o,t){return r("div",{key:t,staticClass:"sm-component-legend__noBorder"},[i.isShowTitle?r("div",{staticClass:"sm-component-legend__title add-ellipsis",style:i.headingTextColorStyle},[i._v("\n        "+i._s(n.layerId)+"\n      ")]):i._e(),i._v(" "),i.isShowField?r("div",{staticClass:"sm-component-legend__themefield add-ellipsis",style:i.secondaryTextColorStyle},[i._v("\n        "+i._s(i.$t("legend.themeField"))+":"+i._s(n.themeField)+"\n      ")]):i._e(),i._v(" "),"UNIQUE"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__point"},i._l(n.styleGroup,function(t,e){return r("div",{key:e,staticClass:"sm-component-legend__item"},[r("div",{staticClass:"sm-component-legend__rank-icon"},[r("i",{class:i._f("selectLayerType")(n.featureType,t.style),style:i.uniqueSymbolStyle(t)})]),i._v(" "),r("span",{staticClass:"add-ellipsis"},[i._v("\n              "+i._s(t.value)+"\n            ")])])}),0)]):i._e(),i._v(" "),"HEAT"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__heatbox"},[r("div",{staticClass:"sm-component-legend__heat"},[r("i",{style:{background:"linear-gradient(to top,"+n.styleGroup.join(",")+")"}})]),i._v(" "),r("div",{staticClass:"sm-component-legend__heatText"},[r("span",{staticClass:"sm-component-legend__top"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n              "+i._s(i.$t("legend.top"))+"\n            ")]),i._v(" "),r("span",{staticClass:"sm-component-legend__bottom"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n              "+i._s(i.$t("legend.bottom"))+"\n            ")])])])]):i._e(),i._v(" "),"RANGE"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__range"},i._l(n.styleGroup,function(t,e){return r("div",{key:e,staticClass:"sm-component-legend__range-item"},[r("div",[r("i",{style:{background:t.color}})]),i._v(" "),r("span",{staticClass:"add-ellipsis"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n              "+i._s(i.showRangeInfo(t,o))+"\n            ")])])}),0)]):i._e(),i._v(" "),"RANK_SYMBOL"===n.layerType?r("div",{staticClass:"sm-component-legend__wrap"},[r("div",{staticClass:"sm-component-legend__rank"},i._l(n.styleGroup,function(t,e){return r("div",{key:e,staticClass:"sm-component-legend__rank-item"},[r("div",{staticClass:"sm-component-legend__rank-icon",style:i.rankIconStyle(n.styleGroup)},[r("i",{class:t.style.className,style:i.rankSymbolStyle(t)})]),i._v(" "),r("span",{staticClass:"add-ellipsis"},[r("i",{staticClass:"sm-components-icon-solid-triangle-left"}),i._v("\n              "+i._s(t.start)+"-"+i._s(t.end)+"\n            ")])])}),0)]):i._e()])}):i._e()],2)],1)},[],!1,null,null,null),e.default=a.exports},rn6b:function(t,e,n){"use strict";var r=n("oCYn"),o=n("YKMj"),a=n("FuRH");function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return function(t,e){{if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(r<3?i(a):3<r?i(e,n,a):i(e,n))||a);return 3<r&&a&&Object.defineProperty(e,n,a),a},n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,r["default"]);var t,e,n,o=c(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.apply(this,arguments)).isShow=!0,t}return t=i,(e=[{key:"positionChanged",value:function(){this.$el&&this.parentIsWebMapOrMap&&(this.remove(),this.addTo())}},{key:"created",value:function(){var t=this.$parent.$options.name;this.parentIsWebMapOrMap=t&&-1!==["smwebmap","smncpmap"].indexOf(this.$parent.$options.name.toLowerCase())}},{key:"mounted",value:function(){var t;this.filterDelayLoad=!(-1!==["smwebmap","smminimap","smncpmap"].indexOf(this.$options.name&&this.$options.name.toLowerCase())),this.$el&&this.parentIsWebMapOrMap&&(this.filterDelayLoad&&(this.isShow=!1,(t=this.$el).style&&(t.style.display="none")),t=this.getControlMapName(),a.a.$options.getMap(t)&&this.mapLoaded(a.a.$options.getMap(t)),a.a.$on("load-map",this.controlLoadMapSucceed))}},{key:"beforeDestroy",value:function(){this.remove(),a.a.$off("load-map",this.controlLoadMapSucceed)}},{key:"initControl",value:function(){var t=this;return{onAdd:function(){return t.$el},onRemove:function(){return t.map}}}},{key:"addTo",value:function(){this.control=this.initControl(),this.map.addControl(this.control,this.position),this.$el&&this.$el.classList&&this.$el.classList.add("mapboxgl-ctrl")}},{key:"remove",value:function(){this.control&&this.map&&this.map.removeControl(this.control)}},{key:"getControlMapName",value:function(){var t=this.$parent,t=t&&t.$options.name&&"smwebmap"===t.$options.name.toLowerCase()&&t.target;return this.mapTarget||t||Object.keys(a.a.$options.getAllMaps())[0]}},{key:"controlLoadMapSucceed",value:function(t,e){e===this.getControlMapName()&&this.mapLoaded(t)}},{key:"mapLoaded",value:function(t){this.map=t,this.addTo(),this.filterDelayLoad&&(this.isShow=!0,(t=this.$el)&&t.style&&(t.style.display="block"))}}])&&s(t.prototype,e),n&&s(t,n),i}();p([Object(o.Prop)()],n.prototype,"mapTarget",void 0),p([Object(o.Prop)({default:"top-left",validator:function(t){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(t)}})],n.prototype,"position",void 0),p([Object(o.Watch)("position")],n.prototype,"positionChanged",null),n=p([o.Component],n),e.a=n},s1Pg:function(t,e,n){"use strict";var o=n("rHdT"),i=n("ghbr"),r=n("oTir"),a=n("tmJK"),i={prefixCls:i.a.string,title:i.a.any,extra:i.a.any,bordered:i.a.bool.def(!0),bodyStyle:i.a.object,headStyle:i.a.object,loading:i.a.bool.def(!1),hoverable:i.a.bool.def(!1),type:i.a.string,size:i.a.oneOf(["default","small"]),actions:i.a.any,tabList:i.a.array,tabBarExtraContent:i.a.any,activeTabKey:i.a.string,defaultActiveTabKey:i.a.string},i={name:"SmCard",defaultComponent:o.default,mixins:[r.a,a.a],inheritAttrs:!1,props:i},n=n("KHd+"),i=Object(n.a)(i,void 0,void 0,!1,null,null,null);e.a=i.exports}}]);