(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1:function(e,t){},2:function(e,t){},"4YNh":function(e,t,o){"use strict";o.r(t);var n=o("oTir"),r=o("rn6b"),a=o("Kwrx"),i=o("CKgU"),s=o("s1Pg"),c=o("KUYp"),l=o("tmJK"),u={expandAction:o("ghbr").a.oneOf(["false","click","dblclick"]).def("click")},c={name:"SmDirectoryTree",defaultComponent:c.default,mixins:[n.a,l.a],inheritAttrs:!1,model:{prop:"checkedKeys",event:"check"},props:u,computed:{extralListeners:function(){var e=this;return{check:function(){e.$emit.apply(e,["check"].concat(Array.prototype.slice.call(arguments)))}}}}},l=o("KHd+"),u=Object(l.a)(c,void 0,void 0,!1,null,null,null).exports,c=o("hdLw"),p=o.n(c),f=o("7L49");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(o){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=v(o);return function(e,t){{if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=v(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,p.a.Evented);var e,t,o,n=m(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this)).cacheMaps={},e.cacheIServerMaps={},e.readyNext=!0,e.mapQuene=[],e}return e=r,(t=[{key:"setMap",value:function(e){var t=e.map,e=e.mapTarget;this.map=t,this.mapTarget=e}},{key:"addLayer",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=t.nodeKey,n=t.serverUrl,r=t.mapId,a=t.withCredentials,a=void 0!==a&&a,t=t.layerFilter;this.cacheMaps[o]||(this.readyNext?(this.webMapViewModel=new f.a(r,{serverUrl:n,withCredentials:a,target:this.mapTarget},{},this.map,t),this.readyNext=!1,this.webMapViewModel.on({addlayerssucceeded:function(){e.handleNextMap()}}),this.cacheMaps[o]=this.webMapViewModel):this.mapQuene.push({nodeKey:o,mapId:r,serverUrl:n,withCredentials:a,layerFilter:t}))}},{key:"handleNextMap",value:function(){var e,t,o,n,r;this.readyNext=!0,this.mapQuene.length&&(e=(r=this.mapQuene.shift()).nodeKey,t=r.serverUrl,o=r.mapId,n=r.withCredentials,r=r.layerFilter,this.addLayer({nodeKey:e,serverUrl:t,mapId:o,withCredentials:n,layerFilter:r}))}},{key:"addIServerLayer",value:function(e,t){var o;this.cacheIServerMaps[t]||(o=this.map.getCRS().epsgCode.split(":")[1],this.map.addLayer({id:t,type:"raster",source:{type:"raster",tiles:[e],tileSize:256,rasterSource:"iserver",prjCoordSys:{epsgCode:o}},minzoom:0,maxzoom:22}),this.cacheIServerMaps[t]=!0)}},{key:"removeLayer",value:function(t){var e;this.handleNextMap(),this.mapQuene.length&&(e=this.mapQuene.findIndex(function(e){return e.nodeKey===t}),this.mapQuene.splice(e,1)),this.cacheMaps[t]&&(this.cacheMaps[t].cleanLayers(),delete this.cacheMaps[t])}},{key:"removeIServerLayer",value:function(e){this.cacheIServerMaps[e]&&delete this.cacheIServerMaps[e],this.map&&this.map.getLayer(e)&&(this.map.removeLayer(e),this.map.removeSource(e))}},{key:"eachNode",value:function(e,t){for(var o=0;o<e.length;o++)t(e[o],e),e[o].children&&this.eachNode(e[o].children,t);return e}},{key:"removeLayerLoop",value:function(o){var n=this;o.mapInfo&&(o.mapInfo.mapId?this.removeLayer(o.key):this.removeIServerLayer(o.key)),o.children&&o.children.length&&o.children.forEach(function(e,t){n.removeLayerLoop(o.children[t])})}},{key:"removed",value:function(){this.cacheMaps={},this.cacheIServerMaps={}}}])&&h(e.prototype,t),o&&h(e,o),r}(),c=o("9csQ"),g=o.n(c),c=o("zT9C"),w=o.n(c),c=o("XaGS"),S=o.n(c),a={name:"SmLayerManager",components:{SmCard:s.a,SmDirectoryTree:u},mixins:[n.a,r.a,i.a,a.a],props:{iconClass:{type:String,default:"sm-components-icon-layer-manager"},headerName:{type:String,default:function(){return this.$t("layerManager.title")}},layers:{type:Array},replaceFields:{type:Object,default:function(){return{children:"children",title:"title",key:"key"}}},defaultExpandAll:{type:Boolean,default:!1}},data:function(){return{treeData:null,checkedKeys:[],mapIsLoad:!1}},watch:{layers:{handler:function(e,t){t&&!S()(e,t)&&this.cleanStatus(),this.treeData=w()(e),this.insertProperty(this.treeData)},deep:!0,immediate:!0}},created:function(){this.viewModel=new b},methods:{checkNode:function(e,t){var i=this;this.checkedKeys=e,t.checked?t.checkedNodes&&t.checkedNodes.length&&t.checkedNodes.forEach(function(e){var t,o,n,r,a=e.data.props.mapInfo;a&&a.serverUrl&&(t=e.key,a.mapId?(o=a.serverUrl,n=a.mapId,r=a.withCredentials,e=a.layerFilter,i.addLayer({nodeKey:t,serverUrl:o,mapId:n,withCredentials:r,layerFilter:e})):i.addIServerLayer(a.serverUrl,t))}):(t=t.node.dataRef,this.viewModel.removeLayerLoop(t))},addLayer:function(e){var t=e.nodeKey,o=e.serverUrl,n=e.mapId,r=e.withCredentials,e=e.layerFilter;this.mapIsLoad&&this.viewModel.addLayer({nodeKey:t,serverUrl:o,mapId:n,withCredentials:r,layerFilter:e})},removeLayer:function(e){this.mapIsLoad&&this.viewModel.removeLayer(e)},addIServerLayer:function(e,t){this.mapIsLoad&&this.viewModel.addIServerLayer(e,t)},removeIServerLayer:function(e){this.mapIsLoad&&this.viewModel.removeIServerLayer(e)},insertProperty:function(e){this.eachNode(e,function(e){e.key||(e.key=g()("key_")),e.selectable=!1,e.children||e.mapInfo?!e.children&&e.mapInfo&&(e.disableCheckbox&&(e.disableCheckbox=!1),e.disabled&&(e.disabled=!1)):(e.disableCheckbox=!0,e.disabled=!0),e.scopedSlots||(e.children?e.scopedSlots={title:"title"}:e.scopedSlots={title:"title",mapInfo:"mapInfo"})})},eachNode:function(e,t){for(var o=0;o<e.length;o++)t(e[o],e),e[o].children&&this.eachNode(e[o].children,t);return e},cleanStatus:function(){var t=this;this.checkedKeys.length&&this.checkedKeys.forEach(function(e){t.removeLayer(e),t.removeIServerLayer(e)}),this.checkedKeys=[]}},loaded:function(){this.mapIsLoad=!0},removed:function(){this.cleanStatus()}},a=Object(l.a)(a,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sm-collapse-card",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"sm-component-layer-manager",attrs:{"icon-class":t.iconClass,"icon-position":t.position,"header-name":t.headerName,"auto-rotate":t.autoRotate,collapsed:t.collapsed,background:t.background,textColor:t.textColor,"split-line":t.splitLine}},[o("sm-card",{staticClass:"sm-component-layer-manager__sm-card",style:t.headingTextColorStyle},[o("div",{staticClass:"sm-component-layer-manager__content"},[o("sm-directory-tree",{style:t.getTextColorStyle,attrs:{checkable:"",defaultExpandAll:t.defaultExpandAll,treeData:t.treeData,checkedKeys:t.checkedKeys,replaceFields:t.replaceFields},on:{check:t.checkNode},scopedSlots:t._u([{key:"title",fn:function(e){e=e.title;return[o("div",{staticClass:"item-title"},[o("span",{style:t.headingTextColorStyle},[t._v("\n              "+t._s(e)+"\n            ")])])]}}])})],1)])],1)},[],!1,null,null,null);t.default=a.exports},CKgU:function(e,t,o){"use strict";var a=o("FuRH"),i=o("yIpb"),s=o("oCYn"),n=o("YKMj");function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(o){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=r(o);return function(e,t){{if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=r(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(i=(a<3?r(i):3<a?r(t,o,i):r(t,o))||i);return 3<a&&i&&Object.defineProperty(t,o,i),i};function d(t,o){for(var e=arguments.length,n=new Array(2<e?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];var a=t.constructor.options;a.mixins&&a.mixins.forEach(function(e){e[o]&&(e=e[o]).call.apply(e,[t].concat(n))}),a[o]&&(a=a[o]).call.apply(a,[t].concat(n))}o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,s["default"]);var e,t,o,n=u(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(t=[{key:"mapTargetChanged",value:function(e,t){var o;e&&t&&e!==t&&(o=t||this.firstDefaultTarget,(t=a.a.$options.getMap(o))&&this.removeMap(t,o),a.a.$options.getMap(e)&&this.loadMap(e))}},{key:"mounted",value:function(){var e=this.getTargetName();this.firstDefaultTarget=e,a.a.$options.getMap(e)&&this.loadMap(e),a.a.$on("load-map",this.loadMapSucceed),i.a.$on("delete-map",this.removeMapSucceed)}},{key:"beforeDestroy",value:function(){this.removeMap(),a.a.$off("load-map",this.loadMapSucceed),i.a.$off("delete-map",this.removeMapSucceed)}},{key:"getFirstTarget",value:function(){var e,t;for(t in a.a.$options.getAllMaps())if(t){e=t;break}return e}},{key:"getTargetName",value:function(){var e=this.$parent,e=e&&e.$options.name&&-1!==["smwebmap","smncpmap"].indexOf(e.$options.name.toLowerCase())&&e.target;return this.mapTarget||e||this.getFirstTarget()}},{key:"loadMap",value:function(e){var t=this;this.firstDefaultTarget||(this.firstDefaultTarget=e),this.map=a.a.$options.getMap(e),this.webmap=a.a.$options.getWebMap(e),this.viewModel&&"function"==typeof this.viewModel.setMap&&this.viewModel.setMap({map:this.map,webmap:this.webmap,mapTarget:e}),d(this,"loaded",this.map,e),this.$nextTick(function(){t.$emit("loaded")})}},{key:"removeMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.map,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getTargetName();e&&(this.viewModel&&this.viewModel.removed&&this.viewModel.removed(),d(this,"removed",e,t),this.map=null,this.webmap=null,this.firstDefaultTarget=null)}},{key:"loadMapSucceed",value:function(e,t){t===this.getTargetName()&&this.loadMap(t)}},{key:"removeMapSucceed",value:function(e){e===this.getTargetName()&&this.removeMap()}},{key:"mapNotLoadedTip",value:function(){return!this.map&&(this.$message.destroy(),this.$message.warning(this.$t("warning.unassociatedMap")),!0)}}])&&c(e.prototype,t),o&&c(e,o),r}();f([Object(n.Prop)()],o.prototype,"mapTarget",void 0),f([Object(n.Watch)("mapTarget")],o.prototype,"mapTargetChanged",null),o=f([n.Component],o),t.a=o},Kwrx:function(e,t,o){"use strict";var n=o("oCYn"),r=o("YKMj"),a={name:"SmCollapseCard",mixins:[o("oTir").a],props:{iconPosition:{type:String,default:"top-left"},iconClass:{type:String},autoRotate:{type:Boolean,default:!1},headerName:{type:String},collapsed:{type:Boolean,default:!1},splitLine:{type:Boolean,default:!0}},data:function(){return{isShow:!0,transform:null}},computed:{getCardStyle:function(){return this.iconClass||this.headerName?this.collapseCardBackgroundStyle:{background:"transparent"}},iconStyle:function(){return{transform:this.transform}},position:function(){return this.iconPosition},rotateDeg:function(){return{"top-right":["rotate(-45deg)","rotate(135deg)"],"top-left":["rotate(-135deg)","rotate(45deg)"],"bottom-left":["rotate(135deg)","rotate(-45deg)"],"bottom-right":["rotate(45deg)","rotate(-135deg)"]}},hasHeaderRotateDeg:function(){return{"top-right":["rotate(-45deg)","rotate(135deg)"],"top-left":["rotate(-135deg)","rotate(45deg)"],"bottom-left":["rotate(-135deg)","rotate(45deg)"],"bottom-right":["rotate(-45deg)","rotate(135deg)"]}}},watch:{iconClass:function(e,t){e&&!t?(this.isShow=!this.collapsed,this.toggleTransition(this.collapsed?"leave":"enter")):e||(this.isShow=!0)},iconPosition:function(){this.resetIconTransform()}},created:function(){this.iconClass&&(this.isShow=!this.collapsed),this.resetIconTransform()},mounted:function(){this.toggleTransition(this.collapsed?"leave":"enter")},methods:{iconClicked:function(){this.isShow=!this.isShow,this.resetIconTransform(),this.$emit("content-show-state",this.isShow)},toggleTransition:function(t){var o=this;this.$nextTick(function(){var e=o.$el.querySelector(".sm-component-collapse-card__icon");e&&(e.style.position="leave"===t?"relative":"absolute")})},resetIconTransform:function(){var e=this.headerName?this.hasHeaderRotateDeg:this.rotateDeg;this.autoRotate&&(this.transform=e[this.position][this.isShow?1:0])}}},i=o("KHd+"),o=Object(i.a)(a,function(){var e,t=this,o=t.$createElement,o=t._self._c||o;return o("div",{staticClass:"sm-component-collapse-card",style:t.getTextColorStyle},[t.iconClass?o("div",{class:((e={})["sm-component-collapse-card__icon"]=!0,e["is-"+t.position]=!0,e["is-click-"+(t.isShow?"out":"in")]=!0,e["is-not-header"]=!t.headerName,e["icon-box-shadow"]=!t.isShow,e),style:[t.collapseCardHeaderBgStyle,t.headingTextColorStyle],on:{click:t.iconClicked}},[o("i",{class:((e={})[t.iconClass]=!0,e["is-auto-rotate"]=t.autoRotate,e),style:t.iconStyle})]):t._e(),t._v(" "),o("transition",{attrs:{name:"sm-component-zoom-in"},on:{"after-leave":function(e){return t.toggleTransition("leave")},enter:function(e){return t.toggleTransition("enter")}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],class:((e={})["sm-component-collapse-card__content"]=!0,e["is-not-header"]=!t.headerName,e["is-"+t.position]=!0,e["is-icon"]=t.iconClass,e),style:t.getCardStyle},[t.headerName?o("div",{class:((e={"sm-component-collapse-card__header":!0,"with-split-line":t.splitLine})["is-"+t.position]=!0,e),style:[t.collapseCardHeaderBgStyle,t.headingTextColorStyle]},[o("span",{staticClass:"sm-component-collapse-card__header-name"},[t._v(t._s(t.headerName))])]):t._e(),t._v(" "),o("div",{staticClass:"sm-component-collapse-card__body",style:t.getCardStyle},[t._t("default")],2)])])],1)},[],!1,null,null,null).exports;function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(o){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(o);return function(e,t){{if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i=function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(i=(a<3?r(i):3<a?r(t,o,i):r(t,o))||i);return 3<a&&i&&Object.defineProperty(t,o,i),i},a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["default"]);var e=c(t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.apply(this,arguments)}return t}();i([Object(r.Prop)({default:"top-left",validator:function(e){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(e)}})],a.prototype,"position",void 0),i([Object(r.Prop)()],a.prototype,"headerName",void 0),i([Object(r.Prop)()],a.prototype,"iconClass",void 0),i([Object(r.Prop)({default:!1})],a.prototype,"autoRotate",void 0),i([Object(r.Prop)({default:!0})],a.prototype,"collapsed",void 0),i([Object(r.Prop)({default:!0})],a.prototype,"splitLine",void 0);a=i([Object(r.Component)({components:{SmCollapseCard:o}})],a),t.a=a},rn6b:function(e,t,o){"use strict";var a=o("oCYn"),n=o("YKMj"),i=o("FuRH");function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(o){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=r(o);return function(e,t){{if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=r(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(i=(a<3?r(i):3<a?r(t,o,i):r(t,o))||i);return 3<a&&i&&Object.defineProperty(t,o,i),i},o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,a["default"]);var e,t,o,n=l(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.apply(this,arguments)).isShow=!0,e}return e=r,(t=[{key:"positionChanged",value:function(){this.$el&&this.parentIsWebMapOrMap&&(this.remove(),this.addTo())}},{key:"created",value:function(){var e=this.$parent.$options.name;this.parentIsWebMapOrMap=e&&-1!==["smwebmap","smncpmap"].indexOf(this.$parent.$options.name.toLowerCase())}},{key:"mounted",value:function(){var e;this.filterDelayLoad=!(-1!==["smwebmap","smminimap","smncpmap"].indexOf(this.$options.name&&this.$options.name.toLowerCase())),this.$el&&this.parentIsWebMapOrMap&&(this.filterDelayLoad&&(this.isShow=!1,(e=this.$el).style&&(e.style.display="none")),e=this.getControlMapName(),i.a.$options.getMap(e)&&this.mapLoaded(i.a.$options.getMap(e)),i.a.$on("load-map",this.controlLoadMapSucceed))}},{key:"beforeDestroy",value:function(){this.remove(),i.a.$off("load-map",this.controlLoadMapSucceed)}},{key:"initControl",value:function(){var e=this;return{onAdd:function(){return e.$el},onRemove:function(){return e.map}}}},{key:"addTo",value:function(){this.control=this.initControl(),this.map.addControl(this.control,this.position),this.$el&&this.$el.classList&&this.$el.classList.add("mapboxgl-ctrl")}},{key:"remove",value:function(){this.control&&this.map&&this.map.removeControl(this.control)}},{key:"getControlMapName",value:function(){var e=this.$parent,e=e&&e.$options.name&&"smwebmap"===e.$options.name.toLowerCase()&&e.target;return this.mapTarget||e||Object.keys(i.a.$options.getAllMaps())[0]}},{key:"controlLoadMapSucceed",value:function(e,t){t===this.getControlMapName()&&this.mapLoaded(e)}},{key:"mapLoaded",value:function(e){this.map=e,this.addTo(),this.filterDelayLoad&&(this.isShow=!0,(e=this.$el)&&e.style&&(e.style.display="block"))}}])&&s(e.prototype,t),o&&s(e,o),r}();p([Object(n.Prop)()],o.prototype,"mapTarget",void 0),p([Object(n.Prop)({default:"top-left",validator:function(e){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(e)}})],o.prototype,"position",void 0),p([Object(n.Watch)("position")],o.prototype,"positionChanged",null),o=p([n.Component],o),t.a=o},s1Pg:function(e,t,o){"use strict";var n=o("rHdT"),r=o("ghbr"),a=o("oTir"),i=o("tmJK"),r={prefixCls:r.a.string,title:r.a.any,extra:r.a.any,bordered:r.a.bool.def(!0),bodyStyle:r.a.object,headStyle:r.a.object,loading:r.a.bool.def(!1),hoverable:r.a.bool.def(!1),type:r.a.string,size:r.a.oneOf(["default","small"]),actions:r.a.any,tabList:r.a.array,tabBarExtraContent:r.a.any,activeTabKey:r.a.string,defaultActiveTabKey:r.a.string},r={name:"SmCard",defaultComponent:n.default,mixins:[a.a,i.a],inheritAttrs:!1,props:r},o=o("KHd+"),r=Object(o.a)(r,void 0,void 0,!1,null,null,null);t.a=r.exports}}]);